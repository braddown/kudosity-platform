"use client"

import { useTheme } from "next-themes"
import { useEffect, useState } from "react"
import Image from "next/image"

interface LogoProps {
  className?: string
  width?: number
  height?: number
}

export function Logo({ className = "h-8 w-auto", width = 150, height = 40 }: LogoProps) {
  const { theme, resolvedTheme } = useTheme()
  const [mounted, setMounted] = useState(false)

  useEffect(() => {
    setMounted(true)
  }, [])

  // Don't render until mounted to avoid hydration mismatch
  if (!mounted) {
    return (
      <div className={`${className} bg-gray-200 dark:bg-gray-700 animate-pulse rounded`} style={{ width, height }} />
    )
  }

  const isDark = resolvedTheme === "dark"

  if (isDark) {
    // Use the white logo for dark mode
    return (
      <Image
        src="/images/kudosity-logo-dark.png"
        alt="Kudosity"
        width={width}
        height={height}
        className={className}
        priority
      />
    )
  }

  // Use SVG logo for light mode
  return (
    <svg
      width={width}
      height={height}
      viewBox="0 0 150 40"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
      style={{ width: `${width}px`, height: `${height}px` }}
    >
      <path
        d="M19.7648 32.8605H13.3901L5.21835 23.2208V32.8605H0V7.18628H5.21835V21.695L13.1919 12.7623H19.4556L10.7151 22.3749L19.7648 32.8605Z"
        fill="#002A66"
      />
      <path
        d="M39.755 12.762V32.8602H34.5776V31.1819C32.8302 32.5483 30.6267 33.2993 28.3412 33.2993C26.0557 33.2993 24.2007 32.5822 22.8564 31.1666C21.5463 29.7035 21.0372 28.0336 21.0372 25.2109V12.762H26.2539V24.4107C26.2539 26.0619 26.5306 27.0554 27.1746 27.7335C27.7895 28.3795 28.7495 28.7202 29.952 28.7202C31.959 28.7202 33.6638 27.6216 34.5366 26.9299V12.762H39.755Z"
        fill="#002A66"
      />
      <path
        d="M56.3786 7.18628V13.2302C55.3059 12.7945 53.8676 12.3215 52.0758 12.3215C49.1344 12.3215 46.4526 13.4201 44.5224 15.4138C42.6042 17.3956 41.5486 20.137 41.5486 23.131C41.5486 26.125 42.529 28.6815 44.3824 30.56C46.1281 32.3265 48.5024 33.2996 51.0697 33.2996C53.0785 33.2996 54.9831 32.7029 56.4589 31.6128V32.8605H61.5969V7.18628H56.3786ZM56.3786 27.3693C55.1248 28.373 53.7447 28.8816 52.2774 28.8816C49.0063 28.8816 46.8062 26.5064 46.8062 22.9716C46.8062 18.7231 49.6964 16.8209 52.5592 16.8209C54.2041 16.8209 55.5314 17.338 56.3786 17.7923V27.3693Z"
        fill="#002A66"
      />
      <path
        d="M74.3223 12.3262C68.0893 12.3262 63.3903 16.8358 63.3903 22.8153C63.3903 25.6685 64.4886 28.3031 66.482 30.2426L66.8031 33.618L70.5422 32.7008C71.7379 33.0992 73.0088 33.3009 74.3223 33.3009C80.5536 33.3009 85.2527 28.793 85.2527 22.8153C85.2527 16.8375 80.5536 12.3262 74.3223 12.3262ZM74.3223 28.6845C71.0649 28.6845 68.6086 26.1619 68.6086 22.8153C68.6086 19.4687 71.0649 16.9036 74.3223 16.9036C77.5797 16.9036 80.0343 19.5009 80.0343 22.8153C80.0343 26.1297 77.5797 28.6845 74.3223 28.6845Z"
        fill="#002A66"
      />
      <path
        d="M76.8056 23.8996L78.3275 23.8945C77.9569 25.812 76.312 27.2293 74.3203 27.2293C72.3286 27.2293 70.6837 25.812 70.313 23.8945L71.8366 23.8996H76.8056Z"
        fill="#FFB3B3"
      />
      <path
        d="M150 12.762L139.107 36.3713H133.733L136.9 29.7713L128.976 12.762H134.582L137.085 18.304C137.93 20.2045 138.774 22.1677 139.591 24.1479C140.559 21.8795 141.382 20.0028 142.173 18.2633L144.672 12.762H150Z"
        fill="#002A66"
      />
      <path
        d="M104.114 26.6913C104.114 30.7669 100.76 33.2997 95.3584 33.2997C92.3555 33.2997 89.3714 32.6334 87.3763 31.5179L87.2892 31.4704V26.5794L87.554 26.7489C90.1503 28.4103 93.4248 29.0003 95.4404 29.0003C98.2964 29.0003 98.896 27.9848 98.896 27.1304C98.896 26.3437 98.5424 25.8046 96.73 25.3757C96.291 25.2723 95.7445 25.1638 95.1654 25.0485C93.5 24.7162 91.4246 24.3025 90.0085 23.6447C88.0169 22.7394 87.0483 21.1577 87.0483 18.8113C87.0483 14.8086 90.263 12.3215 95.4404 12.3215C98.0487 12.3215 100.958 12.942 102.852 13.8999L102.944 13.9474V18.574L102.693 18.4417C100.104 17.0702 97.2903 16.5802 95.5207 16.5802C94.3045 16.5802 92.265 16.8142 92.265 18.3722C92.265 19.264 92.885 19.7234 94.6325 20.1269C95.0048 20.2032 95.4404 20.2846 95.9016 20.3693C97.5858 20.683 99.6834 21.0712 101.152 21.7375C103.173 22.675 104.114 24.25 104.114 26.6913Z"
        fill="#002A66"
      />
      <path
        d="M111.724 6.79895C111.724 8.54685 110.293 9.96755 108.531 9.96755C106.77 9.96755 105.298 8.57567 105.298 6.79895C105.298 5.02223 106.748 3.62866 108.531 3.62866C110.315 3.62866 111.724 5.05105 111.724 6.79895Z"
        fill="#002A66"
      />
      <path d="M111.119 12.762H105.903V32.8602H111.119V12.762Z" fill="#002A66" />
      <path
        d="M121.639 17.2645V25.453C121.639 27.7079 122.545 28.8047 124.41 28.8047C125.426 28.8047 126.403 28.4843 127.044 28.2165L127.281 28.1181V32.4802L127.184 32.526C126.174 33.0058 124.634 33.3025 123.161 33.3025C118.751 33.3025 116.421 30.7544 116.421 25.9345V17.2645H112.916V12.7651H116.421V7.72146L121.639 6.48047V12.7651H127.281V17.2645H121.639Z"
        fill="#002A66"
      />
    </svg>
  )
}
